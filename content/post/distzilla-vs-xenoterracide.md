+++
title = "Dist::Zilla vs xenoterracide"
date = 2010-04-28T21:32:00Z
updated = 2010-04-28T23:41:43Z
tags = ["tutorial",  "perl", "tips", "Dist::Zilla"]
blogimport = true 
type = "post"
+++

<noscript><a href="http://www.youtube.com/watch?v=fXW02XmBGQw">Yes, I am invincible! </a></noscript><object width="640" height="385"><param name="movie" value="http://www.youtube.com/v/fXW02XmBGQw&hl=en_US&fs=1&"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/fXW02XmBGQw&hl=en_US&fs=1&" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="640" height="385"></embed></object> I solved <a href="http://xenoterracide.blogspot.com/2010/04/my-new-lovehate-relationship-with.html">my problem</a> with <a href="http://search.cpan.org/dist/Dist-Zilla/">Dist::Zilla</a>. If you agree with me that you should be able to install from your git repository, without requiring your users to have Dist::Zilla installed here's one way of doing it.<br /><br />First install <a href="http://search.cpan.org/dist/Dist-Zilla-Plugin-CopyTo/lib/Dist/Zilla/Plugin/CopyTo.pm">Dist::Zilla::Plugin::CopyTo</a>. Now Edit your <code>dist.ini</code>. Most people probably use one of the Dist::Zilla bundles. Assuming you use Basic here's what you do.<script src="http://gist.github.com/382978.js"></script><noscript><pre><code>; remove GatherDir from basic so we can specify it seperately<br />[@Filter]<br />    bundle = @Basic<br />    remove = GatherDir<br /><br />; specify the where your ungenerated source lives<br />[GatherDir]<br />    root = src<br />; specify where you want the generated source to live<br />[CopyTo]<br />    dir = .</code></pre></noscript> Now as you can see we use GatherDir to get where the source should come from and CopyTo to tell additional places where the output of the script should be sent to. It will still send to the default directory, that's ok, you can just ignore those files. add . to your repo (making sure to add the default generated location to your ignore list) and commit. now if dzil changes any of these you can see it.<br /><br />If you wanted to with git you could use a <code><a href="http://blog.nuclearsquid.com/writings/git-new-workdir.html">git-new-workdir</a></code> and another branch and copy to it and commit this stuff to a different branch. I haven't found another way to do it in a seperate branch yet, although someone said it's possible.<br /><br />P.S. 1<br />If <code>dzil</code> ever gives you some vague error about some util file... run <code>dzil clean</code> I don't know why it was doing that to me occasionally through all this but I spent like 8 hours thinking my config was screwed up when the directory just needed to be cleaned.<br /><br />P.S. 2 Thanks to rjbs for putting up with my asininity while I asked a lot of questions and ranted.<br /><br />P.S 3<br />My stuff is 99% working now... I just have a problem where my licensing is wrong :( I've set it to Perl_5 but it really should be GPL3 and Artistic2 (or whatever those are in Software::License).<div class="blogger-post-footer"><br />--<br />
This <span xmlns:dc="http://purl.org/dc/elements/1.1/" href="http://purl.org/dc/dcmitype/Text" rel="dc:type">work</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://www.xenoterracide.com" property="cc:attributionName" rel="cc:attributionURL">Caleb Cushing</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.</div>
