+++
title = "Perl Core Syntax Wishlist: Class support"
date = 2012-05-28T06:00:00Z
updated = 2012-07-02T17:06:03Z
tags = [ "perl", "perl syntax wishlist"]
blogimport = true 
type = "post"
+++

I would like to see the <code>class</code> keyword become part of Perl, but unlike some I don't want it simply because it's nicer syntax. I'd like it to behave differently from <code>package</code>. I'd basically like to see this <script src="https://gist.github.com/2632369.js"> </script><noscript><pre><br /><code><br />class MyClass {<br />   method foo { return $self->{foo} }<br />   method info { return load_class('Class::Info')->new }<br />}<br /></code><br /></pre>to be the equivalent of <pre><br /><code><br />{<br />   use strict;<br />   use warnings;<br />   use utf8; # so our class can be named with utf8<br />   package MyClass {<br />      use namespace::autoclean;<br />      use Scalar::Util qw( blessed );<br />      # use Class::Load qw( load_class );<br />      # or similar for a feature that I'm hoping will be in Class::Load in the future<br />      # for now I'll show with require<br /><br />      sub new { # or something better, point is that there's a default simple constructor<br />          my $class = shift;<br />          my $self  = ref $_[0] eq 'HASH' ? $_[0] : { @_ };<br /><br />          bless $self, $class;<br />          return $self;<br />      }<br />      sub foo { my $self = shift; return $self->{foo} }<br /><br />      sub info { #doesn't actually do what I'm really suggesting<br />          my $self = shift;<br />          require Class::Info;<br />          return  Class::Info->new;<br />      }<br />   }<br />}<br /><br />MyClass->new->foo;<br /></code><br /></pre></noscript>I'm sure smarter people than I could think of a few more things that might be nice to have by default in all classes. I would like to note that method signatures is not that big of a deal to me, unless of course you want to give me named variables in the signature besides just auto shifting off self, e.g. <code>method foo ( $bar  ) { return $self->{foo} if $bar }</code><div class="blogger-post-footer"><br />--<br />
This <span xmlns:dc="http://purl.org/dc/elements/1.1/" href="http://purl.org/dc/dcmitype/Text" rel="dc:type">work</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://www.xenoterracide.com" property="cc:attributionName" rel="cc:attributionURL">Caleb Cushing</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.</div>
